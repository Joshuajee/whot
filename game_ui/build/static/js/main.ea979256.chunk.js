/*! For license information please see main.ea979256.chunk.js.LICENSE.txt */
(this.webpackJsonpwhot=this.webpackJsonpwhot||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"cards":["whot:20","whot:20","whot:20","whot:20","whot:20","star:1","star:2","star:3","star:4","star:5","star:7","star:8","circle:1","circle:2","circle:3","circle:4","circle:5","circle:7","circle:8","circle:10","circle:11","circle:12","circle:13","circle:14","triangle:1","triangle:2","triangle:3","triangle:4","triangle:5","triangle:7","triangle:8","triangle:10","triangle:11","triangle:12","triangle:13","triangle:14","cross:1","cross:2","cross:3","cross:4","cross:5","cross:7","cross:10","cross:11","cross:13","cross:14","square:1","square:2","square:3","square:4","square:5","square:7","square:10","square:11","square:13","square:14"]}')},45:function(e,t,a){},46:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a.n(r),c=a(37),i=a.n(c),l=(a(45),a(46),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))}),o=a(21),d=a(3),j=a(22),h=a(20);var b=function(e){return Object(n.jsx)("svg",{children:Object(n.jsx)("g",{fill:"brown",className:"center",children:Object(n.jsx)("rect",{x:e.marginLeft,y:e.marginTop,width:e.width,height:e.height})})})};var g=function(e){var t=e.text,a=e.fontSize,r=e.x,s=e.y,c=e.z,i=e.color;return Object(n.jsx)("svg",{children:Object(n.jsx)("g",{fill:i,transform:"rotate("+r+" "+s+" "+c+")",children:Object(n.jsx)("text",{color:i,x:e.marginLeft,y:e.marginTop,fontSize:a,children:t})})})};var p=function(e){var t=e.size,a=t,r=1.5*t,s=.7*a,c=.4*r,i=(a-s)/2,l=(r-c)/2,o=.8*i,d=.8*i,j=.2*i,h=1.6*i,p=.8*i,O=.8*i,x=s+i,u=r-2.4*i,f=.01*a,m=.12*r,y=.01*a,v=.18*r,w=t/5,S=.5*a,C=.8*a;return Object(n.jsxs)("svg",{className:"card",width:a,height:r,children:[Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:f,marginTop:m,text:e.number,fontSize:w,color:"brown"}),Object(n.jsx)(b,{width:o,height:d,marginLeft:j,marginTop:h}),Object(n.jsx)(b,{width:s,height:c,marginLeft:i,marginTop:l}),Object(n.jsx)(b,{width:p,height:O,marginLeft:x,marginTop:u}),Object(n.jsx)(g,{x:180,y:S,z:C,marginLeft:y,marginTop:v,text:e.number,fontSize:w,color:"brown"})]})};var O=function(e){return Object(n.jsx)("svg",{children:Object(n.jsx)("g",{fill:"brown",children:Object(n.jsx)("circle",{cx:e.marginLeft,cy:e.marginTop,r:e.radius})})})};var x=function(e){var t=e.size,a=t,r=1.5*t,s=a/2,c=r/2,i=a/3,l=.2*a/2,o=.4*r/2,d=.2*a/3,j=1.8*a/2,h=1.6*r/2,b=.2*a/3,p=.01*a,x=.12*r,u=.01*a,f=.18*r,m=t/5,y=.5*a,v=.8*a;return Object(n.jsxs)("svg",{className:"card",width:a,height:r,children:[Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:p,marginTop:x,text:e.number,fontSize:m,color:"brown"}),Object(n.jsx)(O,{marginLeft:l,marginTop:o,radius:d}),Object(n.jsx)(O,{marginLeft:s,marginTop:c,radius:i}),Object(n.jsx)(O,{marginLeft:j,marginTop:h,radius:b}),Object(n.jsx)(g,{x:180,y:y,z:v,marginLeft:u,marginTop:f,text:e.number,fontSize:m,color:"brown"})]})};var u=function(e){return Object(n.jsx)("svg",{children:Object(n.jsxs)("g",{fill:"brown",children:[Object(n.jsx)("rect",{x:e.marginLeft+e.width/4,y:e.marginTop,width:e.width/2,height:e.height}),Object(n.jsx)("rect",{x:e.marginLeft,y:e.marginTop+e.height/4,width:e.width,height:e.height/2})]})})};var f=function(e){var t=e.size,a=t,r=1.5*t,s=.7*a,c=.4*r,i=(a-s)/2,l=(r-c)/2,o=.7*a*.2,d=.4*r*.2,j=.2*(a-s)/2,h=.5*(r-c)/2,b=.7*a*.2,p=.4*r*.2,O=5.5*(a-s)/2,x=2.5*(r-c)/2,f=.01*a,m=.12*r,y=.01*a,v=.18*r,w=t/5,S=.5*a,C=.8*a;return Object(n.jsxs)("svg",{className:"card",width:a,height:r,children:[Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:f,marginTop:m,text:e.number,fontSize:w,color:"brown"}),Object(n.jsx)(u,{width:o,height:d,marginLeft:j,marginTop:h}),Object(n.jsx)(u,{width:s,height:c,marginLeft:i,marginTop:l}),Object(n.jsx)(u,{width:b,height:p,marginLeft:O,marginTop:x}),Object(n.jsx)(g,{x:180,y:S,z:C,marginLeft:y,marginTop:v,text:e.number,fontSize:w,color:"brown"})]})};var m=function(e){var t=e.XA,a=e.YA,r=e.XB,s=e.YB,c=e.XC,i=e.YC;return Object(n.jsx)("svg",{children:Object(n.jsx)("g",{fill:"brown",children:Object(n.jsx)("polygon",{points:t+","+a+","+r+","+s+","+c+","+i})})})};var y=function(e){var t=e.size,a=t,r=1.5*t,s=.05*a,c=.7*r,i=.5*a,l=.2*r,o=.95*a,d=.7*r,j=.03*a,h=.21*r,b=.1*a,p=.12*r,O=.17*a,x=.21*r,u=.825*a,f=.756*r,y=.9*a,v=.84*r,w=.9775*a,S=.756*r,C=.01*a,k=.12*r,T=.01*a,P=.18*r,N=t/5,z=.5*a,L=.8*a;return Object(n.jsxs)("svg",{className:"card",width:a,height:r,children:[Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:C,marginTop:k,text:e.number,fontSize:N,color:"brown"}),Object(n.jsx)(m,{XA:j,YA:h,XB:b,YB:p,XC:O,YC:x}),Object(n.jsx)(m,{XA:s,YA:c,XB:i,YB:l,XC:o,YC:d}),Object(n.jsx)(m,{XA:u,YA:f,XB:y,YB:v,XC:w,YC:S}),Object(n.jsx)(g,{x:180,y:z,z:L,marginLeft:T,marginTop:P,text:e.number,fontSize:N,color:"brown"})]})};var v=function(e){var t=e.XCenter,a=e.top,r=e.XTop,s=e.XTopLeft,c=e.XTopRight,i=e.bottom,l=e.XBottomLeft,o=e.XBottomRight;return Object(n.jsx)("svg",{children:Object(n.jsx)("g",{fill:"brown",children:Object(n.jsx)("polygon",{points:t+","+a+","+l+","+i+","+c+","+r+","+s+","+r+","+o+","+i})})})};var w=function(e){var t=e.size,a=t,r=1.5*t,s=a/2,c=.2*r,i=.42*r,l=.1*a,o=.9*a,d=.75*r,j=.2*a,h=.8*a,b=.24*a,p=.12*r,O=.195*r,x=.08*a,u=.382*a,f=.32*r,m=.12*a,y=.34*a,w=.8*a,S=.9*r,C=.83*r,k=.94*a,T=.66*a,P=.72*r,N=.9*a,z=.7*a,L=.01*a,A=.12*r,H=.01*a,I=.18*r,M=.21*a,X=.25*r,Y=.17*a,W=.295*r;e.number>4&&(M=.17*a,X=.25*r,Y=.14*a,W=.295*r);var B=t/5,q=t/10,R=.5*a,D=.8*a,F=parseInt(e.number),G=2*F;return e.need&&(F="",G=""),Object(n.jsxs)("svg",{className:"card",width:a,height:r,children:[Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:L,marginTop:A,text:F,fontSize:B,color:"brown"}),Object(n.jsx)(v,{XCenter:b,top:p,XTop:O,XTopLeft:x,XTopRight:u,bottom:f,XBottomLeft:m,XBottomRight:y}),Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:M,marginTop:X,text:G,fontSize:q,color:"white"}),Object(n.jsx)(v,{XCenter:s,top:c,XTop:i,XTopLeft:l,XTopRight:o,bottom:d,XBottomLeft:j,XBottomRight:h}),Object(n.jsx)(v,{XCenter:w,top:S,XTop:C,XTopLeft:k,XTopRight:T,bottom:P,XBottomLeft:N,XBottomRight:z}),Object(n.jsx)(g,{x:180,y:R,z:D,marginLeft:H,marginTop:I,text:F,fontSize:B,color:"brown"}),Object(n.jsx)(g,{x:180,y:R,z:D,marginLeft:Y,marginTop:W,text:G,fontSize:q,color:"white"})]})};var S=function(e){var t=e.size,a=t,r=1.5*t,s=a/5,c=r/2.1,i=a/5,l=r/1.9,o=.1*a,d=.25*r,j=.1*a,h=.3*r,b=.01*a,p=.12*r,O=.01*a,x=.18*r,u=t/4,f=t/6,m=t/5,y=.5*a,v=.8*a;return Object(n.jsxs)("svg",{className:"card",width:a,height:r,children:[Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:b,marginTop:p,text:20,fontSize:m,color:"brown"}),Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:o,marginTop:d,text:"W",fontSize:f,color:"brown"}),Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:s,marginTop:c,text:"Whot",fontSize:u,color:"brown"}),Object(n.jsx)(g,{x:180,y:y,z:v,marginLeft:i,marginTop:l,text:"Whot",fontSize:u,color:"brown"}),Object(n.jsx)(g,{x:180,y:y,z:v,marginLeft:j,marginTop:h,text:"W",fontSize:f,color:"brown"}),Object(n.jsx)(g,{x:180,y:y,z:v,marginLeft:O,marginTop:x,text:20,fontSize:m,color:"brown"})]})};var C=function(e){var t=e.size,a=t,r=1.5*t,s=a/5,c=r/2.1,i=a/5,l=r/1.9,o=t/4,d=.5*a,j=.8*a;return Object(n.jsxs)("svg",{className:"card card-cover",width:a,height:r,children:[Object(n.jsx)(g,{x:0,y:0,z:0,marginLeft:s,marginTop:c,text:"Whot",fontSize:o,color:"white"}),Object(n.jsx)(g,{x:180,y:d,z:j,marginLeft:i,marginTop:l,text:"Whot",fontSize:o,color:"white"})]})};var k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.indexOf(":"),s=e.slice(r+1,e.length),c=e.slice(0,r);switch(c){case"star":return Object(n.jsx)(w,{size:t,number:s,need:a});case"circle":return Object(n.jsx)(x,{size:t,number:s});case"square":return Object(n.jsx)(p,{size:t,number:s});case"cross":return Object(n.jsx)(f,{size:t,number:s});case"triangle":return Object(n.jsx)(y,{size:t,number:s});case"whot":return Object(n.jsx)(S,{size:t,number:s});default:return Object(n.jsx)(C,{size:t})}};function T(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=0;n<a;n++)t.length>0&&(e.push(t[t.length-1]),console.log(t[t.length-1]),t.pop())}function P(e,t,a,n,r,s){var c=e[0].indexOf(":")+1,i=parseInt(e[0].slice(c,e[0].length));return function(e,t,a,n){if(console.log("game played "+t),"z:goMarket"===t[0]);else if(20===n)a.pop(),a.push(t[0]);else{a.push(t[0]);for(var r=0;r<e.length;r++)e[r]===t[0]&&e.splice(r,1)}}(a,e,r,i),(!t.holdOn.active||i!==t.holdOn.card)&&(t.pickTwo.active&&i===t.pickTwo.card?(T(n,s,2),!1):t.pickThree.active&&i===t.pickThree.card?(T(n,s,3),!1):(!t.suspension.active||i!==t.suspension.card)&&(!t.generalMarket.active||i!==t.generalMarket.card||(T(n,s),!1)))}function N(e,t,a,n){setTimeout(z,1500,0,e,t,a,n)}function z(e,t,a,n,r){var s=a.playerTwo.cardAtHand,c=a.playerOne.cardAtHand,i=a.cardPlayed,l=a.market,o=a.rules,d=t[e][0].indexOf(":")+1,j=parseInt(t[e][0].slice(d,t[e][0].length)),h=H(s,i[i.length-1]);if(r.push(I(a,h,!1)),20===j){i.push(t[e][0]);for(var b=0;b<s.length;b++)"whot:20"===s[b]&&s.splice(b,1)}else"z:goMarket"!==t[e][0]?P(t[e],o,s,c,i,l):T(s,l);n.emit("play"),e+1<t.length?setTimeout(z,1500,e+1,t,a,n,r):n.emit("play-end")}function L(e){if(e.playerOne.cardAtHand.length<1||e.playerOne.cardAtHand.length<1);else if(e.market.length<1){var t=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a].indexOf(":")+1;20===parseInt(e[a].slice(n,e.length))?t.push("whot:20"):t.push(e[a])}return t}(e.cardPlayed);e.market=t,e.cardPlayed=[e.cardPlayed[e.cardPlayed.length-1]],e.market.pop(),e.market=A(e.market)}}function A(e){for(var t=e.length;0!==t;){var a=Math.floor(Math.random()*t),n=e[--t];e[t]=e[a],e[a]=n}return e}function H(e,t){for(var a=t.indexOf(":")+1,n=parseInt(t.slice(a,t.length)),r=t.slice(0,a),s=["z:goMarket"],c=0;c<e.length;c++){var i=e[c].indexOf(":")+1,l=parseInt(e[c].slice(i,e[c].length)),o=e[c].slice(0,i);if(20===l)return s.sort(),s.push("circle:20","cross:20","square:20","star:20","triangle:20"),s;(l===n||o===r)&&s.push(e[c])}return s.sort()}function I(e,t,a){return a?{agentName:e.playerOne.name,cardAtHand:e.playerOne.cardAtHand,cardInPlay:e.cardPlayed[e.cardPlayed.length-1],cardPlayed:e.cardPlayed,noOfCardsInMarket:e.market.length,noOfCardsWithOpponent:e.playerTwo.cardAtHand.length,availableMove:t,rules:e.rules}:{agentName:e.playerTwo.name,cardAtHand:e.playerTwo.cardAtHand,cardInPlay:e.cardPlayed[e.cardPlayed.length-1],cardPlayed:e.cardPlayed,noOfCardsInMarket:e.market.length,noOfCardsWithOpponent:e.playerOne.cardAtHand.length,availableMove:t,rules:e.rules}}function M(e,t){if(0===e.length)return-1;for(var a=0;a<e.length;a++)if(e[a]===t)return a}var X=Object(j.a)(h.cards);X.push("cover:20");var Y=function(){var e=window.innerWidth*window.innerHeight,t=Math.sqrt(e/114);X=A(X);for(var a=[],r=0;r<X.length;r++)a.push(k(X[r],t));return Object(n.jsx)("div",{className:"start-page",children:a})};var W=function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(o.b,{to:e.link,children:Object(n.jsx)("button",{className:e.class,children:e.text})})})};var B=function(){var e={marginTop:.25*window.innerHeight};return Object(n.jsxs)("center",{children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{style:e,children:[Object(n.jsx)(W,{text:"Play Game",link:"/leaderboard",class:"btn-start"}),Object(n.jsx)(W,{text:"Rules",link:"/rules",class:"btn-rules"}),Object(n.jsx)(W,{text:"Leaderboard",link:"/leaderboard",class:"btn-leader"}),Object(n.jsx)(W,{text:"Create Agent",link:"/create-agent",class:"btn-create"}),Object(n.jsx)(W,{text:"Settings",link:"/settings",class:"btn-settings"})]})]})};var q=function(){var e=window.innerWidth/2-175,t=window.innerHeight/2-262.5;return Object(n.jsx)("center",{className:"whot-background",style:{top:t,left:e},children:k("",350)})};var R=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(q,{}),Object(n.jsx)("center",{style:{marginTop:"30vh"},children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("th",{children:" Action "})," ",Object(n.jsx)("th",{children:" Card Number "})," ",Object(n.jsx)("th",{children:" Active "})," ",Object(n.jsx)("th",{children:" Defend "})," "]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Hold On "})," ",Object(n.jsx)("td",{children:" 1 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Pick Two "})," ",Object(n.jsx)("td",{children:" 2 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Pick Three "})," ",Object(n.jsx)("td",{children:" 5 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Suspension "})," ",Object(n.jsx)("td",{children:" 8 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" General Market "})," ",Object(n.jsx)("td",{children:" 14 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]})]})]})})]})},D=a(9),F=a(10),G=a(12),J=a(11),E=a(15),K=a(16);var Q=function(e){return Object(n.jsx)("div",{className:"agents",children:Object(n.jsx)("table",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(E.a,{size:"5x",color:"gray",icon:K.c})}),Object(n.jsxs)("td",{children:["Name ",e.agentName," ",Object(n.jsx)("br",{}),"Wins  ",e.wins," ",Object(n.jsx)("br",{}),"Loss ",e.losses," ",Object(n.jsx)("br",{}),"points ",parseFloat(e.points.toPrecision(6))," ",Object(n.jsx)("br",{}),Object(n.jsx)(W,{text:"Play Agent",class:"btn-play",link:"/game/:"+e.agentName})]})]})})})},U=a(13),V=a.n(U),Z=Object(j.a)(h.cards);var $=function(e){var t=window.innerWidth,a=window.innerHeight,r=a/5,s=Math.floor(Math.random()*Z.length),c={position:"absolute",top:a/2-r,left:t/2-.6666666667*r};return Object(n.jsx)("div",{style:c,className:"loader",children:k(Z[s],r)})},_=function(e){Object(G.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).state={isLoading:!0,response:{}},e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=this;V.a.get("/api/leaderboard/0").then((function(t){console.log(t),e.setState({isLoading:!1,response:t.data})}))}},{key:"render",value:function(){if(this.state.isLoading)return Object(n.jsx)($,{});for(var e=this.state.response,t=[],a=0;a<e.length;a++)t.push(Object(n.jsx)(Q,{agentName:e[a].agentName,points:e[a].points,wins:e[a].wins,losses:e[a].losses}));return Object(n.jsxs)("div",{children:[Object(n.jsx)(Y,{}),Object(n.jsx)("div",{className:"leaderboard",children:t})]})}}]),a}(s.a.Component);var ee=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(q,{}),Object(n.jsx)("center",{style:{marginTop:"30vh"},children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("th",{children:" Action "})," ",Object(n.jsx)("th",{children:" Card Number "})," ",Object(n.jsx)("th",{children:" Active "})," ",Object(n.jsx)("th",{children:" Defend "})," "]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Hold On "})," ",Object(n.jsx)("td",{children:" 1 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Pick Two "})," ",Object(n.jsx)("td",{children:" 2 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Pick Three "})," ",Object(n.jsx)("td",{children:" 5 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" Suspension "})," ",Object(n.jsx)("td",{children:" 8 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]}),Object(n.jsxs)("tr",{children:[" ",Object(n.jsx)("td",{children:" General Market "})," ",Object(n.jsx)("td",{children:" 14 "})," ",Object(n.jsx)("td",{children:" Yes "})," ",Object(n.jsx)("td",{children:" No "})," "]})]})]})})]})},te=a(17);var ae=function(e){return Object(n.jsx)("div",{className:"card-number",children:e.cardNumber})};var ne=function(e){var t=window.innerWidth,a=window.innerHeight,r=a/6,s={position:"absolute",top:a/2-r,left:t/2-.6666666667*r};return Object(n.jsxs)("div",{style:s,children:[k(e.cards,r),Object(n.jsx)(ae,{cardNumber:e.cardNumber})]})};var re=function(e){var t=window.innerWidth,a=window.innerHeight,r=a/6,s={position:"absolute",top:a/2-r,left:.05*t};return e.playable?Object(n.jsxs)("div",{style:s,children:[Object(n.jsx)("span",{onClick:function(){return e.action(["z:goMarket"])},children:k("ff",r)}),Object(n.jsx)(ae,{cardNumber:e.cardNumber})]}):Object(n.jsxs)("div",{style:s,children:[Object(n.jsx)("span",{children:k("ff",r)}),Object(n.jsx)(ae,{cardNumber:e.cardNumber})]})},se=function(e){Object(G.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).state={start:0},e}return Object(F.a)(a,[{key:"render",value:function(){var e=this,t=window.innerWidth,a=window.innerHeight,r=a/6,s=.05*t,c=this.props.top*a-r,i=t-2*s,l=i/(1.1*r),o={position:"absolute",top:c,left:s,align:"center",width:i,height:r},d={height:1.5*r},j=null,h=null;return this.state.start>0&&this.state.start<this.props.cards.length-l?(j=Object(n.jsx)("span",{onClick:function(){e.setState({start:e.state.start-1})},children:Object(n.jsx)(E.a,{style:d,color:"blue",icon:K.a})}),h=Object(n.jsx)("span",{onClick:function(){e.state.start<e.props.cards.length-l&&e.setState({start:e.state.start+1})},children:Object(n.jsx)(E.a,{style:d,color:"blue",icon:K.b})})):this.state.start>0?j=Object(n.jsx)("span",{style:{top:100},onClick:function(){e.setState({start:e.state.start-1})},children:Object(n.jsx)(E.a,{style:d,color:"blue",icon:K.a})}):this.state.start<this.props.cards.length-l&&(h=Object(n.jsx)("span",{style:{top:100},onClick:function(){e.state.start<e.props.cards.length-l&&e.setState({start:e.state.start+1})},children:Object(n.jsx)(E.a,{style:d,color:"blue",icon:K.b})})),Object(n.jsxs)("div",{style:o,className:"player",children:[j,this.displayCards(this.props.cards.sort(),r,this.props.action,this.state.start),h,Object(n.jsx)(ae,{cardNumber:this.props.cards.length})]})}},{key:"displayCards",value:function(e,t,a){for(var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=[],i=window.innerWidth,l=.05*i,o=i-2*l,d=function(i){if(1.1*(i+1-s)*t>=o)return"break";r.props.playable?c.push(Object(n.jsxs)("span",{onClick:function(){return a([e[i]])},children:[" ",k(e[i],t)," "]})):c.push(Object(n.jsxs)("span",{children:[" ",k(e[i],t)," "]}))},j=s;j<e.length;j++){var h=d(j);if("break"===h)break}return c}}]),a}(s.a.Component),ce=function(e){Object(G.a)(a,e);var t=Object(J.a)(a);function a(){return Object(D.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){var e=this,t=window.innerWidth,a=window.innerHeight,r=t*a,s=Math.sqrt(r/16.5);return Object(n.jsx)("center",{className:"need-bar",style:{height:.9*a},children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{onClick:function(){return e.props.need(["star:20"])},children:[" ",k("star:",s,!0)," "]}),Object(n.jsxs)("span",{onClick:function(){return e.props.need(["triangle:20"])},children:[" ",k("triangle:",s),"   "]}),Object(n.jsxs)("span",{onClick:function(){return e.props.need(["square:20"])},children:[" ",k("square:",s),"     "]}),Object(n.jsxs)("span",{onClick:function(){return e.props.need(["circle:20"])},children:[" ",k("circle:",s),"     "]}),Object(n.jsxs)("span",{onClick:function(){return e.props.need(["cross:20"])},children:[" ",k("cross:",s),"      "]})]})})}}]),a}(s.a.Component),ie=(a(70),s.a.Component,a(39)),le=[0],oe=[0],de={holdOn:{active:!0,card:1,defend:!1},pickTwo:{active:!0,card:2,defend:!1},pickThree:{active:!0,card:5,defend:!1},suspension:{active:!0,card:8,defend:!1},generalMarket:{active:!0,card:14,defend:!1}},je=function(e){Object(G.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(D.a)(this,a),(e=t.call(this)).state={isLoading:!0,opponetIsPlaying:!1,isNeeded:!1,gameState:{playerOne:{cardAtHand:[""],name:""},playerTwo:{cardAtHand:[""],name:""},market:[""],cardPlayed:[],rules:de},playerOneCardIndex:0,playerTwoCardIndex:0,change:!0,playerOneStates:[],playerTwoStates:[],visibility:"hide-modal"},e.playCard=e.playCard.bind(Object(te.a)(e)),e.needed=e.needed.bind(Object(te.a)(e)),e.events=new ie.EventEmitter,e.events.on("play",(function(){e.setState({change:!e.state.change})})),e.events.on("play-end",(function(){e.setState({opponetIsPlaying:!1})})),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.href,a=t.indexOf("/:")+2,n=t.slice(a,t.length);V.a.post("/api/game",{agentName:n,user:"Guest",rules:de}).then((function(t){console.log(t),e.setState({isLoading:!1,opponetIsPlaying:!1,gameState:t.data.gameState}),t.data.moves.length&&N(t.data.moves,e.state.gameState,e.events,e.state.playerTwoStates)})).catch((function(e){console.log(e),alert(e)}))}},{key:"close",value:function(e){}},{key:"needed",value:function(e){var t=this,a=H(this.state.gameState.playerOne.cardAtHand,this.state.gameState.cardPlayed[this.state.gameState.cardPlayed.length-1]);this.state.playerOneStates.push(I(this.state.gameState,a,!0)),e.push(M(a,e[0])),this.setState({isNeeded:!1,isLoading:!0,opponetIsPlaying:!0});var n={gameState:this.state.gameState,playerMove:e,rules:de},r=this.state.gameState.playerOne.cardAtHand.indexOf("whot:20");this.state.gameState.playerOne.cardAtHand.splice(r,1),this.state.gameState.cardPlayed.push(e[0]),V.a.post("/api/play",n).then((function(e){N(e.data,t.state.gameState,t.events,t.state.playerTwoStates),t.setState({opponetIsPlaying:!1,isLoading:!1})})).catch((function(e){t.state.gameState.cardPlayed.pop(),t.state.gameState.playerOne.cardAtHand.push("whot:20"),t.setState({isLoading:!1,opponetIsPlaying:!1,visibility:"show-modal"}),alert(e)}))}},{key:"playCard",value:function(e){var t=this,a=H(this.state.gameState.playerOne.cardAtHand,this.state.gameState.cardPlayed[this.state.gameState.cardPlayed.length-1]);if(e.push(M(a,e[0])),this.state.playerOneStates.push(I(this.state.gameState,a,!0)),this.setState({isLoading:!0}),console.log("State 1"),console.log(this.state.playerOneStates),console.log("State 2"),console.log(this.state.playerTwoStates),"z:goMarket"===e[0]){this.setState({opponetIsPlaying:!0}),T(this.state.gameState.playerOne.cardAtHand,this.state.gameState.market),this.setState({opponetIsPlaying:!1,isLoading:!0});var n={gameState:this.state.gameState,playerMove:"z:goMarket",rules:de};V.a.post("/api/play",n).then((function(e){var a=e.data;t.setState({isLoading:!1,opponetIsPlaying:!0}),N(a,t.state.gameState,t.events,t.state.playerTwoStates)})).catch((function(e){t.state.gameState.market.push(t.state.gameState.playerOne.cardAtHand[t.state.gameState.playerOne.cardAtHand.length-1]),t.state.gameState.playerOne.cardAtHand.pop(),t.state.playerOneStates.pop(),t.setState({isLoading:!1,opponetIsPlaying:!1,visibility:"show-modal"}),alert(e)}))}else{var r=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.indexOf(":")+1,r=parseInt(e.slice(n,e.length)),s=e.slice(0,n),c=t.indexOf(":")+1,i=parseInt(t.slice(c,t.length)),l=t.slice(0,c);return 20===r?[!0,!0]:!(r!==i&&s!==l&&!a)&&[!0,!1]}(e[0],this.state.gameState.cardPlayed[this.state.gameState.cardPlayed.length-1]);if(this.setState({isNeeded:r[1]}),r[0])if(r[1])this.setState({isNeeded:!0,isLoading:!1}),this.state.playerOneStates.pop();else{var s=P(e,de,this.state.gameState.playerOne.cardAtHand,this.state.gameState.playerTwo.cardAtHand,this.state.gameState.cardPlayed,this.state.gameState.market),c={gameState:this.state.gameState,playerMove:e[0],rules:de};s?V.a.post("/api/play",c).then((function(e){var a=e.data;t.setState({isLoading:!1,opponetIsPlaying:!0}),N(a,t.state.gameState,t.events,t.state.playerTwoStates)})).catch((function(a){t.state.gameState.playerOne.cardAtHand.push(e[0]),t.state.gameState.cardPlayed.pop(),t.state.playerOneStates.pop(),t.setState({isLoading:!1,opponetIsPlaying:!1,visibility:"show-modal"}),alert(a)})):this.setState({isLoading:!1})}else this.setState({isLoading:!1}),alert("illegal move")}}},{key:"render",value:function(){L(this.state.gameState);var e=window.innerHeight;if(this.state.isLoading)return Object(n.jsxs)("center",{id:"game-table",className:"game-table",children:[Object(n.jsx)($,{})," "]});var t,a,r,s=this.state.gameState.playerOne.cardAtHand,c=this.state.gameState.playerTwo.cardAtHand,i=this.state.gameState.cardPlayed[this.state.gameState.cardPlayed.length-1],l=null;return(t=this.state.gameState,a=le,r=oe,(t.market.length!==r.length||t.cardPlayed.length!==a.length)&&(r=t.market,a=t.cardPlayed,!0))&&(l=Object(n.jsxs)("div",{children:[Object(n.jsx)(se,{top:.2,angle:180,cards:c,action:this.playCard,playable:!1,index:this.state.playerTwoCardIndex}),Object(n.jsx)(se,{top:.8,angle:0,cards:s,action:this.playCard,playable:!this.state.opponetIsPlaying,index:this.state.playerOneCardIndex}),Object(n.jsx)(ne,{className:"center",cards:i,cardNumber:this.state.gameState.cardPlayed.length}),Object(n.jsx)(re,{action:this.playCard,playable:!this.state.opponetIsPlaying,cardNumber:this.state.gameState.market.length})]})),this.state.isNeeded&&(l=Object(n.jsx)(ce,{height:e,need:this.needed})),console.log("states"),console.log(this.state.gameState),Object(n.jsx)("div",{children:Object(n.jsx)("center",{id:"game-table",className:"game-table",children:l})})}}]),a}(s.a.Component);var he=function(e){var t=e.identifier;return"text"===e.type?Object(n.jsxs)("div",{class:"row",children:[Object(n.jsxs)("div",{class:"col-25",children:[" ",Object(n.jsx)("label",{for:t,children:e.label})," "]}),Object(n.jsx)("div",{class:"col-75",children:Object(n.jsx)("input",{type:"text",required:!0,id:t,name:t,onChange:e.onChange,placeholder:"eg Joe"})})]}):Object(n.jsxs)("div",{class:"row",children:[Object(n.jsx)("div",{class:"col-25",children:Object(n.jsx)("label",{for:t,children:e.label})}),Object(n.jsx)("div",{class:"col-75",children:Object(n.jsxs)("select",{id:t,name:t,onChange:e.onChange,children:[Object(n.jsx)("option",{value:!1,children:"No"}),Object(n.jsx)("option",{value:!0,children:"Yes"})]})})]})};a(71);var be=function(){var e={agentName:"",availableMove:!0,cardAtHand:!1,noOfCardAtHand:!1,cardInPlay:!1,cardPlayed:!1,noOfCardPlayed:!1,noOfCardsInMarket:!1,noOfCardsWithOpponent:!1,rules:!1};function t(t){var a=t.target.name,n=t.target.value;e={agentName:"agentName"===a?n:e.agentName,availableMove:"availableMove"===a?"true"===n:e.availableMove,cardAtHand:"cardAtHand"===a?"true"===n:e.cardAtHand,noOfCardAtHand:"noOfCardAtHand"===a?"true"===n:e.noOfCardAtHand,cardInPlay:"cardInPlay"===a?"true"===n:e.cardInPlay,cardPlayed:"cardPlayed"===a?"true"===n:e.cardPlayed,noOfCardPlayed:"noOfCardPlayed"===a?"true"===n:e.noOfCardPlayed,noOfCardsInMarket:"noOfCardsInMarket"===a?"true"===n:e.noOfCardsInMarket,noOfCardsWithOpponent:"noOfCardsWithOpponent"===a?"true"===n:e.noOfCardsWithOpponent,rules:"rules"===a?"true"===n:e.rules},console.log(e)}return Object(n.jsxs)("center",{children:[Object(n.jsx)(Y,{}),Object(n.jsx)("div",{class:"container",children:Object(n.jsxs)("form",{method:"post",action:"/api/create-agent",children:[Object(n.jsx)("div",{class:"row",children:Object(n.jsx)("h3",{children:"Create Agent"})}),Object(n.jsx)(he,{label:"Agent Name",type:"text",identifier:"agentName",onChange:t}),Object(n.jsxs)("div",{class:"row",children:[Object(n.jsx)("h5",{children:"Agent Settings"})," ",Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"select yes if you want the agent to considered these fields while learning"})]}),Object(n.jsxs)("div",{class:"row",children:[Object(n.jsx)("div",{class:"col-25",children:Object(n.jsx)("label",{for:"avialableMove",children:"Available Move"})}),Object(n.jsx)("div",{class:"col-75",children:Object(n.jsxs)("select",{id:"avialableMove",name:"avialableMove",disabled:!0,children:[Object(n.jsx)("option",{value:!0,children:"Yes"}),Object(n.jsx)("option",{value:!1,children:"No"})]})})]}),Object(n.jsx)(he,{label:"Cards At Hand",type:"select",identifier:"cardAtHand",onChange:t}),Object(n.jsx)(he,{label:"No Cards At Hand",type:"select",identifier:"noOfCardAtHand",onChange:t}),Object(n.jsx)(he,{label:"Card In Play",type:"select",identifier:"cardInPlay",onChange:t}),Object(n.jsx)(he,{label:"Card Played",type:"select",identifier:"cardPlayed",onChange:t}),Object(n.jsx)(he,{label:"No Cards Played",type:"select",identifier:"noOfCardPlayed",onChange:t}),Object(n.jsx)(he,{label:"Number Of Cards In Market",type:"select",identifier:"noOfCardsInMarket",onChange:t}),Object(n.jsx)(he,{label:"Number Of Cards With Opponent",type:"select",identifier:"noOfCardsWithOpponent",onChange:t}),Object(n.jsx)(he,{label:"Rules",type:"select",identifier:"rules",onChange:t}),Object(n.jsxs)("div",{class:"row",style:{marginTop:20},children:["   ",Object(n.jsx)("input",{type:"submit",value:"Submit",onClick:function(t){t.preventDefault(),V.a.post("/api/create-agent",{agent:e}).then((function(e){alert(e.data.msg),e.data.success}))}})," "]})]})})]})},ge=function(){return Object(n.jsx)(B,{})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(d.a,{path:"/",exact:!0,component:ge}),Object(n.jsx)(d.a,{path:"/home",exact:!0,component:ge}),Object(n.jsx)(d.a,{path:"/rules",exact:!0,component:function(){return Object(n.jsx)(R,{})}}),Object(n.jsx)(d.a,{path:"/leaderboard",exact:!0,component:function(){return Object(n.jsx)(_,{})}}),Object(n.jsx)(d.a,{path:"/settings",exact:!0,component:function(){return Object(n.jsx)(ee,{})}}),Object(n.jsx)(d.a,{path:"/create-agent",exact:!1,component:function(){return Object(n.jsx)(be,{})}}),Object(n.jsx)(d.a,{path:"/game",exact:!1,component:function(){return Object(n.jsx)(je,{})}})]})}),document.getElementById("root")),l()}},[[72,1,2]]]);
//# sourceMappingURL=main.ea979256.chunk.js.map